var O={},I={},C={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"||u==="-"||u==="_"}t.isIdentStart=e;function a(u){return u>="a"&&u<="z"||u>="A"&&u<="Z"||u>="0"&&u<="9"||u==="-"||u==="_"}t.isIdent=a;function s(u){return u>="a"&&u<="f"||u>="A"&&u<="F"||u>="0"&&u<="9"}t.isHex=s;function n(u){for(var r=u.length,m="",o=0;o<r;){var f=u.charAt(o);if(t.identSpecialChars[f])m+="\\"+f;else if(f==="_"||f==="-"||f>="A"&&f<="Z"||f>="a"&&f<="z"||o!==0&&f>="0"&&f<="9")m+=f;else{var v=f.charCodeAt(0);if((v&63488)===55296){var A=u.charCodeAt(o++);if((v&64512)!==55296||(A&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");v=((v&1023)<<10)+(A&1023)+65536}m+="\\"+v.toString(16)+" "}o++}return m}t.escapeIdentifier=n;function c(u){for(var r=u.length,m="",o=0,f;o<r;){var v=u.charAt(o);v==='"'?v='\\"':v==="\\"?v="\\\\":(f=t.strReplacementsRev[v])!==void 0&&(v=f),m+=v,o++}return'"'+m+'"'}t.escapeStr=c,t.identSpecialChars={"!":!0,'"':!0,"#":!0,$:!0,"%":!0,"&":!0,"'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0},t.strReplacementsRev={"\n":"\\n","\r":"\\r","	":"\\t","\f":"\\f","\v":"\\v"},t.singleQuoteEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\","'":"'"},t.doubleQuotesEscapeChars={n:`
`,r:"\r",t:"	",f:"\f","\\":"\\",'"':'"'}})(C);Object.defineProperty(I,"__esModule",{value:!0});var b=C;function P(t,e,a,s,n,c){var u=t.length,r="";function m(i,l){var h="";for(e++,r=t.charAt(e);e<u;){if(r===i)return e++,h;if(r==="\\"){e++,r=t.charAt(e);var d=void 0;if(r===i)h+=i;else if((d=l[r])!==void 0)h+=d;else if(b.isHex(r)){var E=r;for(e++,r=t.charAt(e);b.isHex(r);)E+=r,e++,r=t.charAt(e);r===" "&&(e++,r=t.charAt(e)),h+=String.fromCharCode(parseInt(E,16));continue}else h+=r}else h+=r;e++,r=t.charAt(e)}return h}function o(){var i="";for(r=t.charAt(e);e<u;){if(b.isIdent(r))i+=r;else if(r==="\\"){if(e++,e>=u)throw Error("Expected symbol but end of file reached.");if(r=t.charAt(e),b.identSpecialChars[r])i+=r;else if(b.isHex(r)){var l=r;for(e++,r=t.charAt(e);b.isHex(r);)l+=r,e++,r=t.charAt(e);r===" "&&(e++,r=t.charAt(e)),i+=String.fromCharCode(parseInt(l,16));continue}else i+=r}else return i;e++,r=t.charAt(e)}return i}function f(){r=t.charAt(e);for(var i=!1;r===" "||r==="	"||r===`
`||r==="\r"||r==="\f";)i=!0,e++,r=t.charAt(e);return i}function v(){var i=A();if(e<u)throw Error('Rule expected but "'+t.charAt(e)+'" found.');return i}function A(){var i=x();if(!i)return null;var l=i;for(r=t.charAt(e);r===",";){if(e++,f(),l.type!=="selectors"&&(l={type:"selectors",selectors:[i]}),i=x(),!i)throw Error('Rule expected after ",".');l.selectors.push(i)}return l}function x(){f();var i={type:"ruleSet"},l=y();if(!l)return null;for(var h=i;l&&(l.type="rule",h.rule=l,h=l,f(),r=t.charAt(e),!(e>=u||r===","||r===")"));)if(n[r]){var d=r;if(e++,f(),l=y(),!l)throw Error('Rule expected after "'+d+'".');l.nestingOperator=d}else l=y(),l&&(l.nestingOperator=null);return i}function y(){for(var i=null;e<u;)if(r=t.charAt(e),r==="*")e++,(i=i||{}).tagName="*";else if(b.isIdentStart(r)||r==="\\")(i=i||{}).tagName=o();else if(r===".")e++,i=i||{},(i.classNames=i.classNames||[]).push(o());else if(r==="#")e++,(i=i||{}).id=o();else if(r==="["){e++,f();var l={name:o()};if(f(),r==="]")e++;else{var h="";if(s[r]&&(h=r,e++,r=t.charAt(e)),e>=u)throw Error('Expected "=" but end of file reached.');if(r!=="=")throw Error('Expected "=" but "'+r+'" found.');l.operator=h+"=",e++,f();var d="";if(l.valueType="string",r==='"')d=m('"',b.doubleQuotesEscapeChars);else if(r==="'")d=m("'",b.singleQuoteEscapeChars);else if(c&&r==="$")e++,d=o(),l.valueType="substitute";else{for(;e<u&&r!=="]";)d+=r,e++,r=t.charAt(e);d=d.trim()}if(f(),e>=u)throw Error('Expected "]" but end of file reached.');if(r!=="]")throw Error('Expected "]" but "'+r+'" found.');e++,l.value=d}i=i||{},(i.attrs=i.attrs||[]).push(l)}else if(r===":"){e++;var E=o(),S={name:E};if(r==="("){e++;var p="";if(f(),a[E]==="selector")S.valueType="selector",p=A();else{if(S.valueType=a[E]||"string",r==='"')p=m('"',b.doubleQuotesEscapeChars);else if(r==="'")p=m("'",b.singleQuoteEscapeChars);else if(c&&r==="$")e++,p=o(),S.valueType="substitute";else{for(;e<u&&r!==")";)p+=r,e++,r=t.charAt(e);p=p.trim()}f()}if(e>=u)throw Error('Expected ")" but end of file reached.');if(r!==")")throw Error('Expected ")" but "'+r+'" found.');e++,S.value=p}i=i||{},(i.pseudos=i.pseudos||[]).push(S)}else break;return i}return v()}I.parseCssSelector=P;var N={};Object.defineProperty(N,"__esModule",{value:!0});var g=C;function w(t){var e="";switch(t.type){case"ruleSet":for(var a=t.rule,s=[];a;)a.nestingOperator&&s.push(a.nestingOperator),s.push(w(a)),a=a.rule;e=s.join(" ");break;case"selectors":e=t.selectors.map(w).join(", ");break;case"rule":t.tagName&&(t.tagName==="*"?e="*":e=g.escapeIdentifier(t.tagName)),t.id&&(e+="#"+g.escapeIdentifier(t.id)),t.classNames&&(e+=t.classNames.map(function(n){return"."+g.escapeIdentifier(n)}).join("")),t.attrs&&(e+=t.attrs.map(function(n){return"operator"in n?n.valueType==="substitute"?"["+g.escapeIdentifier(n.name)+n.operator+"$"+n.value+"]":"["+g.escapeIdentifier(n.name)+n.operator+g.escapeStr(n.value)+"]":"["+g.escapeIdentifier(n.name)+"]"}).join("")),t.pseudos&&(e+=t.pseudos.map(function(n){return n.valueType?n.valueType==="selector"?":"+g.escapeIdentifier(n.name)+"("+w(n.value)+")":n.valueType==="substitute"?":"+g.escapeIdentifier(n.name)+"($"+n.value+")":n.valueType==="numeric"?":"+g.escapeIdentifier(n.name)+"("+n.value+")":":"+g.escapeIdentifier(n.name)+"("+g.escapeIdentifier(n.value)+")":":"+g.escapeIdentifier(n.name)}).join(""));break;default:throw Error('Unknown entity type: "'+t.type+'".')}return e}N.renderEntity=w;Object.defineProperty(O,"__esModule",{value:!0});var M=I,T=N,j=function(){function t(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return t.prototype.registerSelectorPseudos=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];this.pseudos[c]="selector"}return this},t.prototype.unregisterSelectorPseudos=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];delete this.pseudos[c]}return this},t.prototype.registerNumericPseudos=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];this.pseudos[c]="numeric"}return this},t.prototype.unregisterNumericPseudos=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];delete this.pseudos[c]}return this},t.prototype.registerNestingOperators=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];this.ruleNestingOperators[c]=!0}return this},t.prototype.unregisterNestingOperators=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];delete this.ruleNestingOperators[c]}return this},t.prototype.registerAttrEqualityMods=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];this.attrEqualityMods[c]=!0}return this},t.prototype.unregisterAttrEqualityMods=function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];for(var s=0,n=e;s<n.length;s++){var c=n[s];delete this.attrEqualityMods[c]}return this},t.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},t.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},t.prototype.parse=function(e){return M.parseCssSelector(e,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},t.prototype.render=function(e){return T.renderEntity(e).trim()},t}(),k=O.CssSelectorParser=j;export{k as C};
